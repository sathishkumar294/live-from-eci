{"version":3,"sources":["components/header/header.js","components/state-map/index.js","components/map-view/index.js","config/eci-config.js","utils/environment.js","utils/data-service.js","components/charts/donut.js","components/state/index.js","components/state-wise/index.js","App.js","reportWebVitals.js","index.js"],"names":["logo","float","width","height","margin","fontWeight","color","lineHeight","AppHeader","page","setPage","Header","Layout","style","theme","mode","defaultSelectedKeys","onClick","item","key","Item","StateMap","state","code","MapView","name","ECI_CONFIG","APP_ENV","DataService","url","fetch","headers","then","r","text","Donut","this","props","stateData","title","chartData","map","rec","party","value","parseInt","totalCount","reduce","sum","console","log","config","appendPadding","data","angleField","colorField","radius","innerRadius","meta","formatter","v","label","type","offset","textAlign","autoRotate","content","statistic","interactions","React","Component","Select","Option","StateDetails","useState","setStateData","status","useEffect","statewise","wholeTable","exec","dataToShow","HtmlTableToJson","parse","results","filter","Object","keys","length","Party","StateWisePage","autoplay","dotPosition","dots","states","i","App","Content","Footer","className","padding","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b05a32b4.chunk.js","sourcesContent":["import { Layout, Menu } from 'antd';\nconst logo = {\n    float: 'left',\n    width: '120px',\n    height: '31px',\n    margin: '16px 24px 16px 0',\n    fontWeight: 'bold',\n    color: 'white',\n    lineHeight: '31px'\n}\nexport function AppHeader({page, setPage}) {\n    const { Header } = Layout;\n    return <Header>\n        <div style={logo} >Live from ECI</div>\n        <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={[page]} onClick={(item) => setPage(item.key)}>\n            <Menu.Item key=\"1\">States</Menu.Item>\n            <Menu.Item key=\"2\">Map</Menu.Item>\n            <Menu.Item key=\"3\">Favorites</Menu.Item>\n        </Menu>\n    </Header>\n}","export function StateMap({state}) {\n    return <div>TODO: Show the state map of {state.code}</div>\n}","import { StateMap } from \"../state-map\";\n\nexport function MapView() {\n    return <StateMap state={{code: 'S22', name:'TN'}}/>\n}","export const ECI_CONFIG =\n\n{\n    \"statewise\": {\n        \"url\": (code) => `https://results.eci.gov.in/Result2021/partywiseresult-${code}.htm?st=${code}`,\n        \"states\": [{\n            \"name\": \"Tamil Nadu\",\n            \"code\": \"S22\"\n        }, {\n            \"name\": \"Assam\",\n            \"code\": \"S03\"\n        }, {\n            \"name\": \"Kerala\",\n            \"code\": \"S11\"\n        }]\n    }\n}","export const APP_ENV = {\n    dataURL: 'https://fathomless-stream-86331.herokuapp.com/'\n}","import { APP_ENV } from \"./environment\";\n\nexport const DataService = {\n    getHTMLData: (url) => {\n        return fetch(APP_ENV.dataURL, {\n            headers: {\n                'Target-URL': url\n            }\n        }).then(r => {\n            return r.text();\n        });\n    }\n}","import { Pie } from '@ant-design/charts';\nimport React from 'react';\nconst donutContianer = {\n    width: '60vw',\n    height: '70vh',\n    maxWidth: '560px',\n    maxHeight: '430px'\n}\n\nexport class Donut extends React.Component {\n\n    render() {\n        const { stateData, title } = this.props;\n\n        const parties = stateData.map(rec => rec.party);\n        const chartData = stateData.map(rec => ({\n            party: rec.party,\n            value: parseInt(rec.value, 10)\n        }))\n        const totalCount = chartData.reduce((sum, { value }) => sum + value, 0);\n        console.log({ chartData });\n\n\n        var config = {\n            appendPadding: 10,\n            data: chartData,\n            angleField: 'value',\n            colorField: 'party',\n            radius: 1,\n            innerRadius: 0.5,\n            meta: {\n                value: {\n                    formatter: function formatter(v) {\n                        return v;\n                    },\n                },\n            },\n            label: {\n                type: 'inner',\n                offset: '-50%',\n                style: { textAlign: 'center' },\n                autoRotate: false,\n                content: '{value}',\n            },\n            statistic: {\n                title: { formatter: (state) => state && state.party ? state.party : title },\n                content: { formatter: (state) => state && state.value || totalCount }\n            },\n            interactions: [\n                { type: 'element-selected' },\n                { type: 'element-active' },\n            ],\n        };\n        return <Pie {...config} />;\n\n    }\n}\n","import { Select } from 'antd';\n\nimport HtmlTableToJson from 'html-table-to-json';\nimport { useEffect, useState } from \"react\";\nimport { ECI_CONFIG } from \"../../config/eci-config\";\nimport { DataService } from \"../../utils/data-service\";\nimport { Donut } from \"../charts/donut\";\n\nconst stateStyles = {\n    display: 'flex',\n    width: '90vw',\n    flexDirection: 'column'\n}\n\nconst selectStyle = {\n    width: '100%'\n}\nconst { Option } = Select;\nexport function StateDetails({ state }) {\n\n    const [stateData, setStateData] = useState([]);\n    const statuses = ['Won', 'Leading', \"Total\"];\n    const [status, setStatus] = useState(statuses[2]);\n    useEffect(() =>\n        DataService.getHTMLData(ECI_CONFIG.statewise.url(state.code)).then(r => {\n            // console.log(r);\n            const regex = /<table ([\\w\\W]*)>([\\w\\W]*)<\\/table>/gm;\n            const matches = regex.exec(r);\n            // console.log(matches);\n            const wholeTable = matches[0];\n            const parsedData = HtmlTableToJson.parse(wholeTable);\n            // console.log(parsedData);\n            const jsonData = parsedData.results[0].filter(r => Object.keys(r).length == 4 && r.Party != 'Total');\n            const dataToShow = jsonData.map(rec => ({\n                party: rec.Party,\n                value: rec[status]\n            }))\n            console.log(dataToShow)\n            setStateData(dataToShow);\n        }), []);\n\n   \n\n    return <Donut stateData={stateData} title={state.name} />\n}","import { Carousel } from 'antd';\nimport { ECI_CONFIG } from '../../config/eci-config';\nimport { StateDetails } from \"../state\";\nimport './state-wise.css';\n\nexport function StateWisePage() {\n    return <Carousel autoplay dotPosition={'left'} dots={'dot-style'}>\n        {ECI_CONFIG.statewise.states.map((state, i) =>\n            <StateDetails key={i} state={state}></StateDetails>)}\n    </Carousel>\n}","import { Layout } from 'antd';\nimport 'antd/dist/antd.css';\nimport { useEffect, useState } from 'react';\nimport './App.css';\nimport { AppHeader } from './components/header/header';\nimport { MapView } from './components/map-view';\nimport { StateWisePage } from './components/state-wise';\n\nfunction App() {\n  const { Content, Footer } = Layout;\n  const [page, setPage] = useState(\"1\");\n\n  return (\n    <div className=\"App\">\n      <Layout className=\"layout\">\n        <AppHeader {...{ page, setPage }} />\n        <Content key={page} style={{ padding: '48px' }}>\n          {page == '1' ? <StateWisePage /> : page == '2' ? <MapView /> : <div />}\n        </Content>\n        <Footer style={{ textAlign: 'center' }}>©2021 Sathishkumar Maruthamuthu</Footer>\n      </Layout>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}